@Entry
@Component
export struct BuildParamCase {
  // ç±»ä¼¼äºŽVUEçš„æ’æ§½
  // 1.æŠŠUIç»“æž„ä½“çš„å‡½æ•°(Builderä¿®é¥°çš„å‡½æ•°)å½“æˆå‚æ•°ä¼ å…¥åˆ°ç»„ä»¶ä¸­ï¼Œè®©ç»„ä»¶æ”¾å…¥å›ºå®šçš„ä½ç½®åŽ»æ¸²æŸ“
  // 2.å­ç»„ä»¶æŽ¥æ”¶ä¼ å…¥çš„å‡½æ•°çš„ä¿®é¥°ç¬¦/è£…é¥°å™¨å«åšBuilderParam
  // 3.Builderå¯ä»¥å®žçŽ°è½»é‡çº§çš„UIå¤ç”¨

  // ä½¿ç”¨BuilderParamçš„æ­¥éª¤
  // - å‰æï¼šéœ€è¦å‡ºçŽ°çˆ¶å­ç»„ä»¶çš„å…³ç³»
  // - å‰æï¼šBuilderParamåº”å‡ºçŽ°åœ¨å­ç»„ä»¶ä¸­
  // - 1. å­ç»„ä»¶å£°æ˜Ž  @BuilderParam  getContent: () => void
  // - 2. BuilderParamçš„å‚æ•°å¯ä»¥ä¸ç»™åˆå§‹å€¼ï¼Œå¦‚æžœç»™äº†åˆå§‹å€¼ï¼Œ å°±æ˜¯æ²¡æœ‰å†…å®¹çš„é»˜è®¤å†…å®¹
  // - 3. çˆ¶ç»„ä»¶ä¼ å…¥çš„æ—¶å€™ï¼Œå®ƒéœ€è¦ç”¨builderä¿®é¥°çš„å‡½æ•°åˆæˆ–è€…æ˜¯ ä¸€ä¸ªç®­å¤´å‡½æ•°ä¸­åŒ…è£¹ç€
  // - 4. è°ƒç”¨builderå‡½æ•°çš„é€»è¾‘

  // å°¾éšé—­åŒ…,Column () {  } ä¸­å¤§æ‹¬å·å°±æ˜¯å°¾éšé—­åŒ…çš„å†™æ³•.å½“æˆ‘ä»¬
  // çš„ç»„ä»¶åªæœ‰ä¸€ä¸ªBuilderParamçš„æ—¶å€™ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…çš„è¯­æ³• ä¹Ÿå°±æ˜¯åƒæˆ‘ä»¬åŽŸæ¥ä½¿ç”¨Column
  // æˆ–è€…Rowç»„ä»¶æ—¶ä¸€æ ·ï¼Œç›´æŽ¥åœ¨å¤§æ‹¬å·ä¸­ä¼ å…¥

  @Builder
  leftBuilder() {
    Image($r('sys.media.ohos_ic_compnent_titlebar_back'))
      .width(20)
  }

  @Builder
  centerBuilder() {
    Row() {
      Text('æœ€æ–°æŽ¨è')

      Text('ðŸ”¥')
    }
    .layoutWeight(1)
    .justifyContent(FlexAlign.Center)
  }

  @Builder
  rightBuilder() {
    Image($r('sys.media.ohos_ic_public_scan'))
      .width(20)
  }

  @State
  isOn: boolean = false

  @Builder
  secondRightContent() {
    Toggle({
      type: ToggleType.Switch,
      isOn: $$this.isOn
    })
  }

  build() {
    Row() {
      Column() {

        MyBuilderParamChild({
          leftContent: this.leftBuilder,
          centerContent: this.centerBuilder,
          rightContent: this.rightBuilder
        })

        Text('' + this.isOn)
        MySecondBuilderParamChild({
          leftText: 'æˆ‘æ˜¯å·¦è¾¹',
          bgc: '#ff4400',
          // rightContent: () => {
          //   this.secondRightContent() // åªæœ‰è¿™æ ·å†™,æ‰èƒ½èŽ·å–åˆ°thisçš„å€¼,ç®­å¤´è¯­æ³•
          // }
        }) {
          this.secondRightContent() // å°¾éšé—­åŒ…
        }
      }
      .width('100%')
    }
    .height('100%')
  }
}


@Component
struct MyBuilderParamChild {
  @BuilderParam
  leftContent: () => void = this.defaultLeftParam
  @BuilderParam
  centerContent: () => void = this.defaultCenterParam
  @BuilderParam
  rightContent: () => void = this.defaultRightParam

  @Builder
  defaultLeftParam() {
    Text('è¿”å›ž')
  }

  @Builder
  defaultCenterParam() {
    Text('é¦–é¡µ')
      .layoutWeight(1)
      .textAlign(TextAlign.Center)
  }

  @Builder
  defaultRightParam() {
    Text('ç¡®å®š')
  }

  build() {
    Row() {
      // å·¦è¾¹
      this.leftContent()

      // ä¸­é—´
      this.centerContent()

      // å³è¾¹
      this.rightContent()
    }
    .width('100%')
    .backgroundColor(Color.Pink)
    .padding(20)
  }
}

@Builder
function MyBuilderFunction() {
}

@Component
struct MySecondBuilderParamChild {
  @Prop
  leftText: string = 'é»˜è®¤å†…å®¹'
  @Prop
  bgc: string = '#ccc'
  // å¦‚æžœå­ç»„ä»¶æœ‰ä¸”åªæœ‰ä¸€ä¸ªbuilderParamï¼Œå°±å¯ä»¥ç”¨å°¾éšé—­åŒ…
  @BuilderParam
  rightContent: () => void = MyBuilderFunction // å¿…é¡»å®šä¹‰ä¸€ä¸ªå€¼

  build() {
    Row() {
      Text(this.leftText)

      if (this.rightContent) {
        this.rightContent()
      }

    }
    .width('100%')
    .padding(20)
    .backgroundColor(this.bgc)
    .borderRadius(6)
    .justifyContent(FlexAlign.SpaceBetween)
  }
}